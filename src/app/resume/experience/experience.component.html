<div class="component-content" [formGroup]="resumeForm">
    <mat-card>
        <mat-card-header>
            <div mat-card-avatar><mat-icon>rowing</mat-icon></div>
            <mat-card-title>{{ "app-text.experience-section-title" | translate }}</mat-card-title>
            <mat-card-subtitle>{{ "app-text.experience-section-subtitle" | translate }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="experiencesList">
    
                <div *ngFor="let experience of experiencesList.controls; let i = index" formGroupName="{{i}}">
                    <mat-card class="resume-content-card experience-card">

                        <mat-card-header>
                            <mat-card-title class="resume-card-title">
                                <mat-form-field appearance="standard">
                                    <mat-label for="experienceTitle">{{ "app-text.experience-title" | translate }}</mat-label>
                                    <input matInput type="text" formControlName="experienceTitle">
                                </mat-form-field>
                            </mat-card-title>
                        </mat-card-header>

                        <mat-card-content>
                            <div class="row date-section">
                                <mat-form-field appearance="outline" class="col-4">
                                    <mat-label for="startDate">{{ "app-text.start-date" | translate }}</mat-label>
                                    <input matInput [matDatepicker]="experienceStartDatePicker" type="text" formControlName="startDate">
                                    <mat-datepicker-toggle matSuffix [for]="experienceStartDatePicker"></mat-datepicker-toggle>
                                    <mat-datepicker #experienceStartDatePicker></mat-datepicker>
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="col-4">
                                    <mat-label for="endDate">{{ "app-text.start-date" | translate }}</mat-label>
                                    <input matInput [matDatepicker]="experienceEndDatePicker" type="text" formControlName="endDate">
                                    <mat-datepicker-toggle matSuffix [for]="experienceEndDatePicker"></mat-datepicker-toggle>
                                    <mat-datepicker #experienceEndDatePicker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            
                            <div class="row">
                                <mat-form-field appearance="standard" class="col-6">
                                    <mat-label for="workPlace">{{ "app-text.work-place" | translate }}</mat-label>
                                    <input matInput type="text" formControlName="workPlace">
                                </mat-form-field>
                                <mat-form-field appearance="standard" class="col-6">
                                    <mat-label for="workAddress">{{ "app-text.work-address" | translate }}</mat-label>
                                    <input matInput type="text" formControlName="workAddress">
                                </mat-form-field>
                            </div> 

                            <div class="row">
                                <mat-form-field appearance="standard" class="col-12">
                                    <mat-label for="workPlaceDescription">{{ "app-text.work-place-description" | translate }}</mat-label>
                                    <textarea matInput type="text" formControlName="workPlaceDescription"></textarea>
                                </mat-form-field>
                            </div>

                            <div formArrayName="items">
                                <ul>
                                    <div *ngFor="let experienceItem of getExperienceItemList(i).controls; let j = index">
                                        <li>
                                            <div class="row">
                                                <div class="col-10">
                                                    <input matInput type="text" formControlName="{{j}}">
                                                </div>
                                                <div class="col-1">
                                                    <button class="delete-item-button" type="button" mat-mini-fab color="primary" (click)="callParentItemRemoved(['experiencesList', i, j])"><mat-icon>clear</mat-icon></button>
                                                </div>
                                            </div>
                                        </li>
                                    </div>
                                </ul>
                                <button type="button" mat-stroked-button color="primary" (click)="callParentItemAdded(['experiencesList',i, item])">{{ "app-text.add-item" | translate }}</button>
                            </div>
                        </mat-card-content>

                        <mat-card-footer>
                            <button type="button" mat-icon-button color="primary" (click)="removeExperienceFromExperiencesList(i)"><mat-icon>delete</mat-icon></button>
                            <button type="button" mat-icon-button color="primary" (click)="moveExperience(i, 'up')"><mat-icon>keyboard_arrow_up</mat-icon></button> 
                            <button type="button" mat-icon-button color="primary" (click)="moveExperience(i, 'down')"><mat-icon>keyboard_arrow_down</mat-icon></button> 
                        </mat-card-footer>
                    </mat-card>
                    
                </div>
                
            </div>
            <button type="button" mat-raised-button color="primary" (click)="addEmptyExperienceToExperiencesList()"><mat-icon>add_circle</mat-icon></button>
        </mat-card-content>
    </mat-card>
</div>